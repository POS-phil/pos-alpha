<form [formGroup]="createItemForm" (ngSubmit)="confirmCreate()">
    <div class="header-flex">
        <H1>Create Item</H1>
        <span class="spacer"></span>
        <button type="button" mat-stroked-button class="btnRadius" [routerLink]="['/menu/item']">
            Cancel
        </button>
        <button type="submit" mat-flat-button class="btnRadius">
            Save
        </button>
    </div>
    <div class="container-flex2">

        <div class="container-basic-info">
            <h3>Basic Info</h3>
            <mat-form-field class="full-width">
                <mat-label>Item Name</mat-label>
                <input matInput type="text" formControlName="itemName" placeholder="Item Name">             
            </mat-form-field>
            <mat-form-field class="full-width">
                <mat-label>Second Language</mat-label>
                <input matInput type="text" formControlName="secondLanguageName"
                    placeholder="Second language">
            </mat-form-field>
            <div class="grid-textArea">
                <mat-form-field class="full-width">
                    <mat-label>Description</mat-label>
                    <textarea matInput rows="5" placeholder="Ex. This is a combo of pizza and soda..."
                        formControlName="description"></textarea>
                </mat-form-field>
            </div>

            <mat-form-field class="full-width">
                <mat-label>Category</mat-label>
                <mat-select required>
                    <mat-option value="Option">Category 1</mat-option>
                    <mat-option value="Option">Category 2</mat-option>
                    <mat-option value="Option">Category 3</mat-option>
                    <mat-option value="Option">Category 4</mat-option>
                </mat-select>
            </mat-form-field>

           <mat-form-field class="full-width">
                <mat-label>Item Type</mat-label>
                <mat-select required>
                    <mat-option value="Option">Menu Item</mat-option>
                    <mat-option value="Option">Retail Item</mat-option>
                </mat-select>
            </mat-form-field>


            <div class="sku-row">
                <mat-form-field class="sku-field full-width">
                
                    <mat-label>SKU</mat-label>
                        <input matInput type="text" placeholder="SKU">
                    </mat-form-field>

                <button type="submit" mat-flat-button class="btnRadius btn-generate">
                    Generate
                </button>
            </div> 

            <mat-form-field class="full-width">
                <mat-label>Barcode</mat-label>
                <input matInput type="text" placeholder="Barcode"> 
                                
            </mat-form-field>  
        </div>
        <div class="container-availability">
            <button type="button" mat-fab extended class="full-width btnAvailability"
                (click)="openAvailabilityDialog()">
                <mat-icon>event_repeat</mat-icon>
                <span>Availability</span>
            </button>
            <mat-chip-set>
                @for(item of scheduleSummary; track item){
                <mat-chip>{{ item }}</mat-chip>
                }
            </mat-chip-set>


        </div>

        <div class="container-utility">
            <h3>Utilities</h3>
            <div class="container-utlity-content">
                <div class="grid-image">
                    <button type="button" mat-icon-button class="btnImage" (click)="openUploadDialog()">
                        @if (previewImage) {
                        <img [src]="previewImage" alt="Uploaded" class="uploaded-image" />
                        } @else {
                        <mat-icon class="icon-image">add_a_photo</mat-icon>
                        }
                    </button>
                </div>
                <div class="grid-toggle-buttons">
                    <mat-slide-toggle formControlName="webShop" class="toggle-button">
                        Web Shop
                    </mat-slide-toggle>
                    <mat-slide-toggle formControlName="aggregator" class="toggle-button">
                        Aggregator
                    </mat-slide-toggle>
                    <mat-slide-toggle formControlName="kiosk" class="toggle-button">
                        Kiosk
                    </mat-slide-toggle>
                    <mat-slide-toggle formControlName="counterTop" class="toggle-button">
                        Counter Top
                    </mat-slide-toggle>
                </div>
                <div class="_grid-icon-picker">
                    <div style="font: var(--mat-sys-label-small); margin-top: 10px;">
                        <span>ICON PICKER : </span>
                    </div>
                    <button [disabled]="previewImage"
                        matTooltip="If no image is provided, an icon can be selected to use as the category image."
                        type="button" mat-icon-button class="iconSelector" class="icon-picker"
                        [matMenuTriggerFor]="iconMenu">
                        <mat-icon class="icon-picker-image">{{ selectedIcon }}</mat-icon>
                    </button>

                    <mat-menu #iconMenu="matMenu" class="icon-menu">
                        <div class="icon-grid">
                            @for(icon of icons; track icon) {
                            <button mat-icon-button (click)="selectIcon(icon)">
                                <mat-icon>{{ icon }}</mat-icon>
                            </button>
                            }
                        </div>
                    </mat-menu>
                </div>
                <div class="grid-background-picker">
                    <div style="font: var(--mat-sys-label-small);">
                    <span>BACKGROUND PICKER :</span>
                </div>
                <div>
                    <button type="button" class="background-selector" [matMenuTriggerFor]="backgroundMenu"
                        [style.backgroundColor]="selectedBackgroundColor" matButton="outlined">

                    </button>
                    <mat-menu #backgroundMenu="matMenu" class="background-menu">
                        <div class="background-grid">
                            @for(background of background_colors; track background) {
                            <button type="button" matButton="outlined" class="background-picker" [style.backgroundColor]="background"
                                (click)="selectedBackgroundColor(background)">
                            </button>
                            }
                        </div>
                    </mat-menu>
                </div>


                </div>
            </div>
        </div>

        <div class="container-PriceCosting">

            <h3>Pricing</h3>
 
                    <div class="grid-itemPriceCosting">

                    <mat-form-field class="full-width">
                    <mat-label>Selling Method</mat-label>
                        <mat-select>
                            <mat-option value="Option">Category 1</mat-option>
                            <mat-option value="Option">Category 2</mat-option>
                            <mat-option value="Option">Category 3</mat-option>
                            <mat-option value="Option">Category 4</mat-option>
                        </mat-select>
                    </mat-form-field>

                        
                    </div>
                    <div class="grid-itemPriceCosting">
                        <mat-form-field class="full-width">
    

                    <mat-label>Tax Group</mat-label>
                        <mat-select>
                            <mat-option value="Option">Menu Item</mat-option>
                            <mat-option value="Option">Retail Item</mat-option>
                            <mat-option value="Option">Category 3</mat-option>
                            <mat-option value="Option">Category 4</mat-option>
                        </mat-select>
                    </mat-form-field>




                    </div>
                    <div class="grid-itemPriceCosting">                    
                    <div class="grid-containerOpenPrice">                     
                        <div class="grid-">
                            <mat-form-field class="full-width">
                            <mat-label>Enter Price</mat-label>
                                <input matInput type="text" placeholder="Enter Price" [disabled]="!slideToggle.checked">                    
                            </mat-form-field> 
                        </div>  
                        <div class="grid-itemOpenPrice">
                            <mat-slide-toggle #slideToggle >Open Price</mat-slide-toggle>
                        </div>
                        
                        </div>
                    </div>
                    <div class="grid-itemPriceCosting">                    
                        <mat-form-field class="full-width">
                            <mat-label>Preparation Time (Minutes)</mat-label>
                            <input matInput type="text" placeholder="Preparation Time (Minutes)">                    
                        </mat-form-field> 
                    </div>
                    
                        <div class="priceSched-row">     

                            <mat-form-field class="priceSched-field">
                                    <mat-label>Enter Price Schedule</mat-label>
                                    <input matInput type="text"  placeholder="Enter Price Schedule" [disabled]="dateRangeValue === ''">
                            </mat-form-field>                            
                            <mat-form-field class="priceSched-field" id="dateRangeValue">
                                <mat-label>Enter a date range</mat-label>
                                <mat-date-range-input [rangePicker]="picker">
                                <input matStartDate placeholder="Start date">
                                <input matEndDate placeholder="End date">
                                </mat-date-range-input>
                                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-date-range-picker #picker></mat-date-range-picker>
                            </mat-form-field>




                        </div>
                    <div class="grid-itemPriceCosting"></div>
                    <div class="grid-itemPriceCosting">                      
                        <mat-form-field class="full-width">
                            <mat-label>Tags</mat-label>
                            <mat-select required>
                                <mat-option value="Tags 1">Tags 1</mat-option>
                                <mat-option value="Tags 2">Tags 2</mat-option>
                                <mat-option value="Tags 3">Tags 3</mat-option>
                                <mat-option value="Tags 4">Tags 4</mat-option>
                            </mat-select>
                        </mat-form-field>



                    </div>

        </div>

        <div class="container-NetGrossWeight">

            <h3>Costing</h3>
                <div class="grid-containerNetGrossWeight">
                    
                    <div class="grid-itemNetGrossWeight">

                        <mat-form-field class="full-width">
                            <mat-label>Costing Method</mat-label>
                            <mat-select>
                                <mat-option value="From Cost">Fix Cost</mat-option>
                                <mat-option value="From recipe">From recipe</mat-option>
                            </mat-select>
                        </mat-form-field>



                    </div>
                    <div class="grid-itemNetGrossWeight">   
                        <mat-form-field class="full-width">
                            <mat-label>Cost %</mat-label>
                            <input matInput type="text" placeholder="0.0"  [readonly]="true">
                        </mat-form-field> 
                    </div>
                    <div class="grid-itemNetGrossWeight">
                        <mat-form-field class="full-width">
                        <mat-label>Net Weight</mat-label>
                        <input matInput type="text" placeholder="0.000">                    
                    </mat-form-field>  
                    </div>

                    <div class="grid-itemNetGrossWeight">
                        <mat-form-field class="full-width">
                        <mat-label>Gross Weight</mat-label>
                        <input matInput type="text" placeholder="0.000">                    
                    </mat-form-field>  
                    </div>

                    <div class="grid-itemNetGrossWeight">
                        <mat-form-field class="full-width">
                        <mat-label>Calories</mat-label>
                        <input matInput type="text" placeholder="0.000">                    
                    </mat-form-field>  
                    </div>
                    <div class="grid-itemNetGrossWeight">
                        <mat-form-field class="full-width">
                        <mat-label>Cost Amount</mat-label>
                        <input matInput type="text"  placeholder="0.0"  [readonly]="true">                    
                    </mat-form-field>  
                    </div>

                    <div class="grid-itemNetGrossWeight">     
   
                        <mat-checkbox class="full-width">High Salt Content</mat-checkbox>        
                    </div>
               

                    <div class="grid-itemNetGrossWeight">
                        <mat-form-field class="full-width">
                        <mat-label>Markup</mat-label>
                        <input matInput type="text"  placeholder="0.0" [readonly]="true">                    
                    </mat-form-field>  
                    </div>

                
                </div>
        </div>

<!--
        <div class="container-CreationDetail">
            <h3>Creation Details</h3>
        </div>

        <div class="container-Store">
            <h3>Assigned Store</h3>
        </div>

   -->     

    </div>
</form>